<!DOCTYPE html>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/md5.js"></script>
<script src="logic.js"></script>

<style>
    body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }

    .content{
        display: flex;
        justify-content: center;
        flex-wrap: wrap;

        margin-left: 10%;
        margin-right: 10%;
        padding: 5%;
        padding-top: 0px;
        flex: 1;
        background-color: ghostwhite;
    }

    #intro{
        text-align: left;
        font-size: 13px;
    }

    #inputId{
        width: 400px;
        height: 40px;
        margin-right: 50px;
        font-size: 20px;
        flex: none;
    }

    #monkey_button{
        width: 40px;
        height: 40px;
        font-size: 25px;
        padding: 5px;
        padding-top: 2px;
        border:none;
        border-radius: 50%;
        background-color: rgb(0, 214, 0);
    }

    #monkey_button:hover{
        background-color: rgb(0, 230, 0);
        border-radius:2;
        border-color: rgb(187, 255, 0);
    }

    #monkey_name{
        margin-top: 10px;
        margin-bottom: 10px;
        font-size: 25px;
    }

    #monkey{
        max-height:400px;
        max-width:498px;
        height:auto;
        width:auto;
        border: 2px solid rgb(0, 0, 0);
        border-radius: 5px;
        border: none;
    }

    .line-break {
        width: 100%;
    }
</style>

<meta charset="UTF-8">


<html>
    <body>
        <div id="menu"></div>

        <div class="content">
            <h1>
                Your Monkey!
            </h1>
            <p id="intro">
                Find your destined monkey based on your name! 
                This applet uses your name as an input to give you the monkey associated with your name.
                Your name is first converted into an MD5 hash to provide more variability with inputs, and is
                then converted into a number, which is used to find your monkey.
            </p>
            <input type="text" placeholder="Name here" id="inputId" class="input">
            <button  type="button" onclick="getInputValue();" id="monkey_button" class="input">üêµ‚Äã</button>
            <div class="line-break"></div>
            <p id="monkey_name"></p>
            <div class="line-break"></div>
            <img id="monkey"></img>
        </div>
    </body>

    <script>
        $(function() {
            $("#menu").load("menu.html");
        });

        loadMonkeys();
    </script>

    <script>
        function getInputValue() {
            let text = document.getElementById("inputId").value;
            let image = document.getElementById("monkey");
            let unique_monkey = getMonkey(text);
            let name = document.getElementById("monkey_name");
            
            //Clear image and title
            name.innerText = "";
            image.src = "";

            //Update
            image.style.border = "2px solid rgb(0, 0, 0)";
            name.innerText = unique_monkey.name;
            image.src = unique_monkey.url;
        }
    </script>
</html>